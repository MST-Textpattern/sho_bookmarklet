# Name: sho_bookmarklet v0.1 
# Type: Admin side plugin
# Use a simple bookmarklet to create a link from any webpage you visit
# Author: Stephan Hochhaus
# URL: http://yauh.de
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjE1OiJzaG9fYm9va21hcmtsZXQiO3M6NjoiYXV0aG9yIjtz
OjE2OiJTdGVwaGFuIEhvY2hoYXVzIjtzOjEwOiJhdXRob3JfdXJpIjtzOjE0OiJodHRwOi8v
eWF1aC5kZSI7czo3OiJ2ZXJzaW9uIjtzOjM6IjAuMSI7czoxMToiZGVzY3JpcHRpb24iO3M6
Njg6IlVzZSBhIHNpbXBsZSBib29rbWFya2xldCB0byBjcmVhdGUgYSBsaW5rIGZyb20gYW55
IHdlYnBhZ2UgeW91IHZpc2l0IjtzOjQ6ImNvZGUiO3M6NDEyMzoiLyoqDQogKiBzaG9fYm9v
a21hcmtsZXQgcGx1Z2luIGZvciBUZXh0cGF0dGVybiBDTVMuDQogKg0KICogQGF1dGhvciBT
dGVwaGFuIEhvY2hoYXVzDQogKiBAZGF0ZSAyMDEzLQ0KICogQGxpY2Vuc2UgR05VIEdQTHYy
DQogKiANCiAqIENvcHlyaWdodCAoQykgMjAxMyBTdGVwaGFuIEhvY2hoYXVzIDxodHRwOi8v
eWF1aC5kZT4NCiAqIExpY2Vuc2VkIHVuZGVyIEdOVSBHZW5yYWwgUHVibGljIExpY2Vuc2Ug
dmVyc2lvbiAyDQogKiBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLTIuMC5odG1s
DQogKi8NCg0KbmV3IHNob19ib29rbWFya2xldCgpOw0KDQpjbGFzcyBzaG9fYm9va21hcmts
ZXQgew0KDQoJc3RhdGljIHB1YmxpYyAkdmVyc2lvbiA9ICcwLjAuMSc7DQoJDQoJLyoqDQoJ
ICogQHZhciBhcnJheSBTdG9yZXMgcGx1Z2luIGFyZWFzDQoJICovDQoJDQoJcHJvdGVjdGVk
ICRwbHVnaW5fYXJlYXMgPSBhcnJheSgpOw0KDQoJLyoqDQoJICogRG9lcyBpbnN0YWxsaW5n
IGFuZCB1bmluc3RhbGxpbmcuDQoJICogQHBhcmFtIHN0cmluZyAkZXZlbnQgVGhlIGFkbWlu
LXNpZGUgZXZlbnQuDQoJICogQHBhcmFtIHN0cmluZyAkc3RlcCBUaGUgYWRtaW4tc2lkZSAv
IHBsdWdpbi1saWZlY3ljbGUgc3RlcC4NCgkgKi8NCg0KCQ0KCS8qKg0KCSAqIENvbnN0cnVj
dG9yDQoJICovDQoJDQoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkgew0KCQlhZGRf
cHJpdnMoJ3Nob19ib29rbWFya2xldCcsICcxLDInKTsNCgkJYWRkX3ByaXZzKCdwbHVnaW5f
cHJlZnMuc2hvX2Jvb2ttYXJrbGV0JywgJzEsMicpOw0KCQlyZWdpc3Rlcl90YWIoJ2V4dGVu
c2lvbnMnLCAnc2hvX2Jvb2ttYXJrbGV0JywgZ1R4dCgnc2hvX2Jvb2ttYXJrbGV0JykpOw0K
CQlyZWdpc3Rlcl9jYWxsYmFjayhhcnJheSgkdGhpcywgJ3BhbmVzJyksJ3Nob19ib29rbWFy
a2xldCcpOw0KCQkkdGhpcy0+cmVnaXN0ZXIoKTsNCgl9DQoNCgkvKioNCgkgKiBSZWdpc3Rl
cnMgdGhlIHRhYnMNCgkgKi8NCg0KCXB1YmxpYyBmdW5jdGlvbiByZWdpc3RlcigpIHsNCgkJ
DQoJCWdsb2JhbCAkcGx1Z2luX2FyZWFzOw0KCQkNCgkJQCRycyA9IA0KCQkJc2FmZV9yb3dz
KA0KCQkJCSd0YWJncm91cCwgcGFnZSwgbGFiZWwnLA0KCQkJCSdzaG9fYm9va21hcmtsZXQn
LA0KCQkJCScxPTEgT1JERVIgQlkgcG9zaXRpb24gYXNjJw0KCQkJKTsNCgkJDQoJCWlmKCEk
cnMpIHsNCgkJCXJldHVybjsNCgkJfQ0KCQkNCgkJJHRoaXMtPnBsdWdpbl9hcmVhcyA9ICRw
bHVnaW5fYXJlYXM7DQoJCSR1bnNldCA9IGFycmF5KCk7DQoJCQ0KCQlmb3JlYWNoKCRycyBh
cyAkYSkgew0KCQkJDQoJCQlmb3JlYWNoKCRwbHVnaW5fYXJlYXMgYXMgJGFyZWEgPT4gJGl0
ZW1zKSB7DQoJCQkJZm9yZWFjaCgkaXRlbXMgYXMgJHRpdGxlID0+ICRldmVudCkgew0KCQkJ
CQlpZigkYVsncGFnZSddID09PSAkZXZlbnQgJiYgIWluX2FycmF5KCRldmVudCwgJHVuc2V0
KSkgew0KCQkJCQkJdW5zZXQoJHBsdWdpbl9hcmVhc1skYXJlYV1bJHRpdGxlXSk7DQoJCQkJ
CQkkdW5zZXRbXSA9ICRldmVudDsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJcmVn
aXN0ZXJfdGFiKCRhWyd0YWJncm91cCddLCAkYVsncGFnZSddLCBnVHh0KCRhWydsYWJlbCdd
KSk7DQoJCX0NCgl9DQoJcHVibGljIGZ1bmN0aW9uIHBhbmVzKCkgew0KCQlyZXF1aXJlX3By
aXZzKCdzaG9fYm9va21hcmtsZXQnKTsNCg0KCQlnbG9iYWwgJHN0ZXA7DQoJCQ0KCQkkc3Rl
cCA9ICdwYW5lJzsNCgkJDQoJCSR0aGlzLT4kc3RlcCgpOw0KCX0NCg0KDQoJIC8qKg0KCSAq
IE91dHB1dHMgdGhlIHBhbmUgSFRNTCBtYXJrdXAgYW5kIHNldHMgcGFnZSB0aXRsZS4NCgkg
KiBAcGFyYW0gbWl4ZWQgJG91dCBQYW5lIG1hcmt1cC4gQWNjZXB0cyBhcnJheXMgYW5kIHN0
cmluZ3MuDQoJICogQHBhcmFtIHN0cmluZyAkcGFnZXRvcCBQYWdlIHRpdGxlLg0KCSAqIEBw
YXJhbSBzdHJpbmcgJG1lc3NhZ2UgTWVzc2FnZSBzaG93biBpbiB0aGUgaGVhZGVyLg0KCSAq
Lw0KDQoJcHJpdmF0ZSBmdW5jdGlvbiBwYW5lKCkgew0KCQkNCgkJZ2xvYmFsICRldmVudDsN
CgkJDQoJCS8vICRhZG1pblVSTCBzaG91bGQgcGVyaGFwcyBiZSBhIGZ1bmN0aW9uIG9mIGl0
cyBvd24/IQ0KCQkkYWRtaW5VUkwgPSAnaHR0cCc7DQogCQlpZiAoaXNzZXQoICRfU0VSVkVS
WyJIVFRQUyJdICkgJiYgc3RydG9sb3dlciggJF9TRVJWRVJbIkhUVFBTIl0gKSA9PSAib24i
KSB7JHBhZ2VVUkwgLj0gInMiO30NCiAJCQkJCSRhZG1pblVSTCAuPSAiOi8vIjsNCiAJCWlm
ICgkX1NFUlZFUlsiU0VSVkVSX1BPUlQiXSAhPSAiODAiKSB7DQoJCQkgCQkgJGFkbWluVVJM
IC49ICRfU0VSVkVSWyJTRVJWRVJfTkFNRSJdLiI6Ii4kX1NFUlZFUlsiU0VSVkVSX1BPUlQi
XS4kX1NFUlZFUlsiUkVRVUVTVF9VUkkiXTsNCiAJCX0gZWxzZSB7DQoJCQkgCQkgJGFkbWlu
VVJMIC49ICRfU0VSVkVSWyJTRVJWRVJfTkFNRSJdLiRfU0VSVkVSWyJSRVFVRVNUX1VSSSJd
Ow0KIAkJfQ0KIAkJJGFkbWluVVJMID0gcHJlZ19yZXBsYWNlKCIjKGh0dHA6Ly8uKilpbmRl
eFwucGhwLiojIiwgIiQxIiwgJGFkbWluVVJMKTsNCgkJcGFnZXRvcChnVHh0KCdXZWxjb21l
JyksICdtc2cnKTsNCgkJCQkNCgkJZWNobyANCgkJCW4uDQoJCQknPGgxIGNsYXNzPSJ0eHAt
aGVhZGluZyI+Jy5nVHh0KCdzaG9fYm9va21hcmtsZXQnKS4nPC9oMT4nLm4uDQoJCQknPGRp
diBjbGFzcz0idHhwLWNvbnRhaW5lciI+Jy5uLg0KCQkJJwk8cCBjbGFzcz0idHhwLWJ1dHRv
bnMiPicuDQoJCQkJJzxhIGhyZWY9ImphdmFzY3JpcHQ6KGZ1bmN0aW9uKCl7dmFyJTIwZm9y
bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCUyMmZvcm0lMjIpO2Zvcm0uc2V0QXR0cmlidXRl
KCUyMm1ldGhvZCUyMiwlMjJQT1NUJTIyKTtmb3JtLnNldEF0dHJpYnV0ZSglMjJ0YXJnZXQl
MjIsJTIydHhwbGlua2ZyYW1lJTIyKTtmb3JtLnNldEF0dHJpYnV0ZSglMjJhY3Rpb24lMjIs
JTIyJy4kYWRtaW5VUkwuJyUzRmV2ZW50PWxpbmslMjZzdGVwPWxpbmtfZWRpdCUyMik7dmFy
JTIwaGlkZGVuVVJMRmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCglMjJpbnB1dCUyMik7
dmFyJTIwaGlkZGVuTmFtZUZpZWxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJTIyaW5wdXQl
MjIpO2Zvcm0uYXBwZW5kQ2hpbGQoaGlkZGVuVVJMRmllbGQpO2Zvcm0uYXBwZW5kQ2hpbGQo
aGlkZGVuTmFtZUZpZWxkKTtoaWRkZW5VUkxGaWVsZC5zZXRBdHRyaWJ1dGUoJTIydHlwZSUy
MiwlMjJoaWRkZW4lMjIpO2hpZGRlblVSTEZpZWxkLnNldEF0dHJpYnV0ZSglMjJuYW1lJTIy
LCUyMnVybCUyMik7aGlkZGVuVVJMRmllbGQuc2V0QXR0cmlidXRlKCUyMnZhbHVlJTIyLGRv
Y3VtZW50LlVSTCk7aGlkZGVuTmFtZUZpZWxkLnNldEF0dHJpYnV0ZSglMjJ0eXBlJTIyLCUy
MmhpZGRlbiUyMik7aGlkZGVuTmFtZUZpZWxkLnNldEF0dHJpYnV0ZSglMjJuYW1lJTIyLCUy
MmxpbmtuYW1lJTIyKTtoaWRkZW5OYW1lRmllbGQuc2V0QXR0cmlidXRlKCUyMnZhbHVlJTIy
LGRvY3VtZW50LnRpdGxlKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO2Zvcm0u
c3VibWl0KCk7fSkoKTsiPkFkZCB0byBsaW5rczwvYT4nLg0KCQkJJzwvcD4nLm4uDQoJCQkn
PHA+RHJhZyB0aGUgYm94IGFib3ZlIHRvIHlvdXIgYm9va21hcmtzIGJhci48L3A+DQoJCQk8
cD5XaGVuIGxvZ2dlZCBpbnRvIHRoZSBUZXh0cGF0dGVybiBhZG1pbiBzZWN0aW9uIHlvdSB3
aWxsIGJlIGFibGUgdG8gYWRkIGFueSBzaXRlIHRvIHlvdXIgb3duIGxpbmtzIGJ5IHNpbXBs
eSBjbGlja2luZyBvbiB0aGUgPGVtPkFkZCB0byBsaW5rczwvZW0+IGxpbmsuPC9wPicubi4k
YWRtaW5VUkwuDQoJCQknPC9kaXY+Jy5uOw0KCX0NCgkNCgkvKioNCgkgKiBSZWRpcmVjdCB0
byB0aGUgYWRtaW4tc2lkZSBpbnRlcmZhY2UNCgkgKi8NCg0KCXB1YmxpYyBmdW5jdGlvbiBw
cmVmcygpIHsNCgkJaGVhZGVyKCdMb2NhdGlvbjogP2V2ZW50PXNob19ib29rbWFya2xldCcp
Ow0KCQllY2hvIA0KCQkJJzxwPicubi4NCgkJCScJPGEgaHJlZj0iP2V2ZW50PXNob19ib29r
bWFya2xldCI+Jy5nVHh0KCdjb250aW51ZScpLic8L2E+Jy5uLg0KCQkJJzwvcD4nOw0KCX0N
Cg0KfSI7czo0OiJ0eXBlIjtzOjE6IjMiO3M6NToib3JkZXIiO3M6MToiNSI7czo1OiJmbGFn
cyI7czoxOiIwIjtzOjQ6ImhlbHAiO3M6MTQzOiI8aDE+c2hvX2Jvb2ttYXJrbGV0PC9oMT4K
PHA+PHN0cm9uZz5JbXBvcnRhbnQ6PC9zdHJvbmc+IFlvdSBuZWVkIHRvIGJlIGxvZ2dlZCBp
biB0byB5b3VyIFRleHRwYXR0ZXJuIGluc3RhbmNlIGZvciB0aGlzIGJvb2ttYXJrbGV0IHRv
IHdvcmsuPC9wPiI7czozOiJtZDUiO3M6MzI6ImYyOWQ3Nzc0MjE4YmIyNzdmMGI5NzU5ZDU3
MDY3NjliIjt9
